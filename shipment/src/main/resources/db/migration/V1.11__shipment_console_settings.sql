CREATE TABLE IF NOT EXISTS email_templates (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    name varchar,
    type varchar,
    body varchar,
    subject varchar,
    shipment_settings_id bigint,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS hawb_lock_settings (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    shipper_name_lock boolean,
    shipper_address_lock boolean,
    consignee_name_lock boolean,
    consignee_address_lock boolean,
    issuing_agent_name_lock boolean,
    issuing_agent_address_lock boolean,
    iata_code_lock boolean,
    awb_number_lock boolean,
    notify_party_lock boolean,
    routing_details_lock boolean,
    accounting_info_lock boolean,
    handling_info_lock boolean,
    other_info_lock boolean,
    ntr_qty_goods_lock boolean,
    special_handling_codes_lock boolean,
    reference_number_lock boolean,
    shipping_information_lock boolean,
    sci_lock boolean,
    currency_lock boolean,
    charge_code_lock boolean,
    carriage_value_lock boolean,
    customs_value_lock boolean,
    insurance_amount_lock boolean,
    custom_origin_code_lock boolean,
    goods_description_lock boolean,
    packing_lock boolean,
    prepaid_due_agent_charges_lock boolean,
    prepaid_due_carrier_charges_lock boolean,
    total_prepaid_lock boolean,
    collect_weight_charges_lock boolean,
    collect_valuation_charge_lock boolean,
    collect_tax_lock boolean,
    total_collect_lock boolean,
    other_charges_lock boolean,
    shipper_lock boolean,
    carrier_lock boolean,
    executed_at_lock boolean,
    executed_on_lock boolean,
    other_customs_lock boolean,
    notify_organization_lock boolean,
    notify_organization_address_lock boolean,
    airport_of_departure_lock boolean,
    airport_of_destination_lock boolean,
    first_carrier_lock boolean,
    origin_port_lock boolean,
    destination_port_lock boolean,
    by_carrier_lock boolean,
    flight_number_lock boolean,
    flight_date_lock boolean,
    information_identifier_lock boolean,
    trade_identification_code_lock boolean,
    trade_identification_comment_lock boolean,
    charge_description_lock boolean,
    rate_lock boolean,
    charge_basis_lock boolean,
    charges_due_lock boolean,
    pieces_no_lock boolean,
    gross_wt_lock boolean,
    gross_wt_unit_lock boolean,
    rate_class_lock boolean,
    commodity_item_no_lock boolean,
    chargeable_wt_lock boolean,
    rate_charge_lock boolean,
    total_amount_lock boolean,
    slac_code_lock boolean,
    hs_code_lock boolean,
    packing_awb_goods_desc_id_lock boolean,
    packing_packs_lock boolean,
    packing_packs_type_lock boolean,
    packing_origin_lock boolean,
    packing_order_lock boolean,
    packing_length_lock boolean,
    packing_length_unit_lock boolean,
    packing_width_lock boolean,
    packing_width_unit_lock boolean,
    packing_height_lock boolean,
    packing_height_unit_lock boolean,
    packing_weight_lock boolean,
    packing_weight_unit_lock boolean,
    packing_volume_lock boolean,
    packing_volume_unit_lock boolean,
    packing_net_weight_lock boolean,
    packing_net_weight_unit_lock boolean,
    packing_volume_weight_lock boolean,
    packing_volume_weight_unit_lock boolean,
    packing_marksn_nums_lock boolean,
    packing_country_code_lock boolean,
    packing_goods_desc_lock boolean,
    packing_reference_number_lock boolean,
    packing_inspections_lock boolean,
    packing_dg_class_lock boolean,
    packing_dg_substance_id_lock boolean,
    packing_min_temp_lock boolean,
    packing_min_temp_unit_lock boolean,
    packing_max_temp_lock boolean,
    packing_max_temp_unit_lock boolean,
    packing_commodity_lock boolean,
    packing_hs_code_lock boolean,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS hbl_lock_settings (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    consignor_name_lock boolean,
    consignor_address_lock boolean,
    consignee_name_lock boolean,
    consignee_address_lock boolean,
    notify_party_name_lock boolean,
    notify_party_address_lock boolean,
    notify_party_tax_id_lock boolean,
    notify_party_email_lock boolean,
    additional_notify_party_name_lock boolean,
    additional_notify_party_address_lock boolean,
    additional_notify_party_tax_id_lock boolean,
    additional_notify_party_email_lock boolean,
    additional_notify_party_name2_lock boolean,
    additional_notify_party_address2_lock boolean,
    additional_notify_party_tax_id2_lock boolean,
    additional_notify_party_email2_lock boolean,
    purchase_order_number_lock boolean,
    exporter_reference_number_lock boolean,
    bl_reference_number_lock boolean,
    origin_of_goods_lock boolean,
    place_of_receipt_lock boolean,
    port_of_load_lock boolean,
    port_of_discharge_lock boolean,
    place_of_delivery_lock boolean,
    package_count_lock boolean,
    package_type_lock boolean,
    hs_code_lock boolean,
    schedule_b_number_lock boolean,
    cargo_description_lock boolean,
    marks_and_numbers_lock boolean,
    hazmat_details_lock boolean,
    cargo_gross_weight_lock boolean,
    cargo_net_weight_lock boolean,
    cargo_gross_volume_lock boolean,
    shipper_declared_value_lock boolean,
    shipper_declared_currency_lock boolean,
    bl_instruction_type_lock boolean,
    bl_comments_lock boolean,
    consignor_tax_id_lock boolean,
    consignor_reference_number_lock boolean,
    consignee_tax_id_lock boolean,
    consignee_reference_number_lock boolean,
    number_of_copies_lock boolean,
    gross_weight_unit_lock boolean,
    weight_unit_lock boolean,
    volume_unit_lock boolean,
    container_type_lock boolean,
    carrier_seal_number_lock boolean,
    shipper_seal_number_lock boolean,
    container_gross_weight_lock boolean,
    container_gross_weight_unit_lock boolean,
    container_gross_volume_lock boolean,
    container_gross_volume_unit_lock boolean,
    container_number_lock boolean,
    bl_container_id_lock boolean,
    cargo_gross_weight_unit_lock boolean,
    cargo_net_weight_unit_lock boolean,
    cargo_gross_volume_unit_lock boolean,
    classification_lock boolean,
    un_no_lock boolean,
    imco_no_lock boolean,
    container_desc_lock boolean,
    vessel_name_lock boolean,
    voyage_lock boolean,
    house_bill_lock boolean,
    transport_type_lock boolean,
    shipment_type_lock boolean,
    etd boolean,
    shipping_time boolean,
    inco_terms boolean,
    inco_term_place boolean,
    payment_term boolean,
    final_destination boolean,
    el_number boolean,
    lc_number boolean,
    el_date boolean,
    invoice_numbers boolean,
    quantity boolean,
    quantity_code boolean,
    bl_delivery_agent boolean,
    bl_delivery_agent_address boolean,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS hbl_terms_condition_template (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    template_code varchar,
    template_file_name varchar,
    shipment_settings_id bigint,
    is_front_print boolean,
    type_of_hbl_print integer,
    is_watermark_required boolean,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS mawb_lock_settings (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    shipper_name_lock boolean,
    shipper_address_lock boolean,
    consignee_name_lock boolean,
    consignee_address_lock boolean,
    issuing_agent_name_lock boolean,
    issuing_agent_address_lock boolean,
    iata_code_lock boolean,
    awb_number_lock boolean,
    accounting_info_lock boolean,
    handling_info_lock boolean,
    other_info_lock boolean,
    ntr_qty_goods_lock boolean,
    special_handling_codes_lock boolean,
    reference_number_lock boolean,
    shipping_information_lock boolean,
    sci_lock boolean,
    currency_lock boolean,
    charge_code_lock boolean,
    carriage_value_lock boolean,
    customs_value_lock boolean,
    insurance_amount_lock boolean,
    custom_origin_code_lock boolean,
    goods_description_lock boolean,
    prepaid_due_agent_charges_lock boolean,
    prepaid_due_carrier_charges_lock boolean,
    total_prepaid_lock boolean,
    collect_weight_charges_lock boolean,
    collect_valuation_charge_lock boolean,
    collect_tax_lock boolean,
    total_collect_lock boolean,
    shipper_lock boolean,
    carrier_lock boolean,
    executed_at_lock boolean,
    executed_on_lock boolean,
    other_customs_lock boolean,
    notify_organization_lock boolean,
    notify_organization_address_lock boolean,
    airport_of_departure_lock boolean,
    airport_of_destination_lock boolean,
    first_carrier_lock boolean,
    origin_port_lock boolean,
    destination_port_lock boolean,
    by_carrier_lock boolean,
    flight_number_lock boolean,
    flight_date_lock boolean,
    information_identifier_lock boolean,
    trade_identification_code_lock boolean,
    trade_identification_comment_lock boolean,
    charge_description_lock boolean,
    rate_lock boolean,
    charge_basis_lock boolean,
    charges_due_lock boolean,
    pieces_no_lock boolean,
    gross_wt_lock boolean,
    gross_wt_unit_lock boolean,
    rate_class_lock boolean,
    commodity_item_no_lock boolean,
    chargeable_wt_lock boolean,
    rate_charge_lock boolean,
    total_amount_lock boolean,
    slac_code_lock boolean,
    hs_code_lock boolean,
    packing_awb_goods_desc_id_lock boolean,
    packing_packs_lock boolean,
    packing_packs_type_lock boolean,
    packing_origin_lock boolean,
    packing_order_lock boolean,
    packing_length_lock boolean,
    packing_length_unit_lock boolean,
    packing_width_lock boolean,
    packing_width_unit_lock boolean,
    packing_height_lock boolean,
    packing_height_unit_lock boolean,
    packing_weight_lock boolean,
    packing_weight_unit_lock boolean,
    packing_volume_lock boolean,
    packing_volume_unit_lock boolean,
    packing_net_weight_lock boolean,
    packing_net_weight_unit_lock boolean,
    packing_volume_weight_lock boolean,
    packing_volume_weight_unit_lock boolean,
    packing_marksn_nums_lock boolean,
    packing_country_code_lock boolean,
    packing_goods_desc_lock boolean,
    packing_reference_number_lock boolean,
    packing_inspections_lock boolean,
    packing_dg_class_lock boolean,
    packing_dg_substance_id_lock boolean,
    packing_min_temp_lock boolean,
    packing_min_temp_unit_lock boolean,
    packing_max_temp_lock boolean,
    packing_max_temp_unit_lock boolean,
    packing_commodity_lock boolean,
    packing_hs_code_lock boolean,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS tenant_products (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    product_type integer,
    alias varchar,
    priority integer,
    enabled boolean,
    enable_grouping boolean,
    shipment_settings_id bigint,
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS product_sequence_config (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by integer,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    updated_at timestamp  NOT NULL,
    updated_by integer,
    tenant_id integer,
    tenant_products_id bigint,
    product_process_types integer,
    sequence_group varchar,
    sequence_group_for_payment_no_gen varchar,
    generation_type integer,
    prefix varchar,
    serial_counter integer,
    sequence_start_time timestamp,
    shipment_settings_id bigint,
    is_deleted BOOLEAN DEFAULT FALSE
);

ALTER TABLE IF EXISTS shipment_setting
    DROP IF EXISTS shipment_import_approver_role,
    ADD COLUMN IF NOT EXISTS shipment_console_import_approver_role varchar,
    ADD COLUMN IF NOT EXISTS low_margin_approval boolean,
    ADD COLUMN IF NOT EXISTS auto_attach_consolidation boolean,
    ADD COLUMN IF NOT EXISTS inline_enabled boolean,
    ADD COLUMN IF NOT EXISTS carrier_mandatory boolean,
    ADD COLUMN IF NOT EXISTS weight_volume_decimal_place integer,
    ADD COLUMN IF NOT EXISTS dpw_date_format varchar,
    ADD COLUMN IF NOT EXISTS weight_chargeable_unit varchar,
    ADD COLUMN IF NOT EXISTS volume_chargeable_unit varchar,
    ADD COLUMN IF NOT EXISTS measurement_chargeable_unit varchar,
    ADD COLUMN IF NOT EXISTS temperature_unit varchar,
    ADD COLUMN IF NOT EXISTS default_transport_mode varchar,
    ADD COLUMN IF NOT EXISTS default_container_type varchar,
    ADD COLUMN IF NOT EXISTS default_shipment_type varchar,
    ADD COLUMN IF NOT EXISTS email_host varchar,
    ADD COLUMN IF NOT EXISTS email_port bigint,
    ADD COLUMN IF NOT EXISTS email_use_ssl boolean,
    ADD COLUMN IF NOT EXISTS email_from varchar,
    ADD COLUMN IF NOT EXISTS email_user_name varchar,
    ADD COLUMN IF NOT EXISTS email_password varchar,
    ADD COLUMN IF NOT EXISTS email_isf_asm_response boolean,
    ADD COLUMN IF NOT EXISTS default_failure_email_ids varchar,
    ADD COLUMN IF NOT EXISTS shipment_lock boolean,
    ADD COLUMN IF NOT EXISTS org_prefix varchar,
    ADD COLUMN IF NOT EXISTS org_code_lock boolean,
    ADD COLUMN IF NOT EXISTS country_prefix boolean,
    ADD COLUMN IF NOT EXISTS org_number_generation integer,
    ADD COLUMN IF NOT EXISTS un_loco_code_enabled boolean,
    ADD COLUMN IF NOT EXISTS enable_org_address_update boolean,
    ADD COLUMN IF NOT EXISTS allow_free_text_address boolean,
    ADD COLUMN IF NOT EXISTS is_consolidator boolean,
    ADD COLUMN IF NOT EXISTS merge_containers boolean,
    ADD COLUMN IF NOT EXISTS bol_number_lock boolean,
    ADD COLUMN IF NOT EXISTS is_show_mbl boolean,
    ADD COLUMN IF NOT EXISTS consolidation_lite boolean,
    ADD COLUMN IF NOT EXISTS container_event_bulk_upload boolean,
    ADD COLUMN IF NOT EXISTS bol_number_prefix varchar,
    ADD COLUMN IF NOT EXISTS bol_number_generation integer,
    ADD COLUMN IF NOT EXISTS is_mandate_doc_type boolean,
    ADD COLUMN IF NOT EXISTS house_main_page varchar,
    ADD COLUMN IF NOT EXISTS hbl_footer varchar,
    ADD COLUMN IF NOT EXISTS print_after_each_page boolean,
    ADD COLUMN IF NOT EXISTS sea_way_main_page varchar,
    ADD COLUMN IF NOT EXISTS ship_truck_way_bill_main_page varchar,
    ADD COLUMN IF NOT EXISTS cons_truck_way_bill_main_page varchar,
    ADD COLUMN IF NOT EXISTS ship_truck_driver_proof varchar,
    ADD COLUMN IF NOT EXISTS cons_truck_driver_proof varchar,
    ADD COLUMN IF NOT EXISTS commercial_inv_main_page varchar,
    ADD COLUMN IF NOT EXISTS packing_list_main_page varchar,
    ADD COLUMN IF NOT EXISTS customs_ins_main_page varchar,
    ADD COLUMN IF NOT EXISTS airway_main_page varchar,
    ADD COLUMN IF NOT EXISTS can_main_page varchar,
    ADD COLUMN IF NOT EXISTS can_back_print varchar,
    ADD COLUMN IF NOT EXISTS arrival_notice varchar,
    ADD COLUMN IF NOT EXISTS freight_certification varchar,
    ADD COLUMN IF NOT EXISTS pre_alert_doc varchar,
    ADD COLUMN IF NOT EXISTS manifest_print varchar,
    ADD COLUMN IF NOT EXISTS container_manifest_print varchar,
    ADD COLUMN IF NOT EXISTS sea_import_shipment_manifest varchar,
    ADD COLUMN IF NOT EXISTS sea_export_shipment_manifest varchar,
    ADD COLUMN IF NOT EXISTS sea_import_console_manifest varchar,
    ADD COLUMN IF NOT EXISTS sea_export_console_manifest varchar,
    ADD COLUMN IF NOT EXISTS air_import_shipment_manifest varchar,
    ADD COLUMN IF NOT EXISTS air_export_shipment_manifest varchar,
    ADD COLUMN IF NOT EXISTS air_import_console_manifest varchar,
    ADD COLUMN IF NOT EXISTS air_export_console_manifest varchar,
    ADD COLUMN IF NOT EXISTS proof_of_delivery varchar,
    ADD COLUMN IF NOT EXISTS pickup_order varchar,
    ADD COLUMN IF NOT EXISTS delivery_order varchar,
    ADD COLUMN IF NOT EXISTS booking_confirmation varchar,
    ADD COLUMN IF NOT EXISTS costal_document varchar,
    ADD COLUMN IF NOT EXISTS shipping_instruction varchar,
    ADD COLUMN IF NOT EXISTS consolidated_packing_list varchar,
    ADD COLUMN IF NOT EXISTS awb_lable varchar,
    ADD COLUMN IF NOT EXISTS cargo_manifest varchar,
    ADD COLUMN IF NOT EXISTS packing_list_main_page_air varchar,
    ADD COLUMN IF NOT EXISTS freight_certification_air varchar,
    ADD COLUMN IF NOT EXISTS pre_alert_air varchar,
    ADD COLUMN IF NOT EXISTS booking_confirmation_air varchar,
    ADD COLUMN IF NOT EXISTS pickup_order_air varchar,
    ADD COLUMN IF NOT EXISTS delivery_order_air varchar,
    ADD COLUMN IF NOT EXISTS can_main_page_air varchar,
    ADD COLUMN IF NOT EXISTS can_back_print_air varchar,
    ADD COLUMN IF NOT EXISTS customs_ins_main_page_air varchar,
    ADD COLUMN IF NOT EXISTS commercial_inv_main_page_air varchar,
    ADD COLUMN IF NOT EXISTS arrival_notice_air varchar,
    ADD COLUMN IF NOT EXISTS hawb varchar,
    ADD COLUMN IF NOT EXISTS mawb varchar,
    ADD COLUMN IF NOT EXISTS awb_neutral varchar,
    ADD COLUMN IF NOT EXISTS csr varchar,
    ADD COLUMN IF NOT EXISTS shipping_request_main_page varchar,
    ADD COLUMN IF NOT EXISTS shipping_request_air varchar,
    ADD COLUMN IF NOT EXISTS sea_shipping_instruction_main_page varchar,
    ADD COLUMN IF NOT EXISTS default_email_template varchar,
    ADD COLUMN IF NOT EXISTS decimal_places INTEGER,
    ADD COLUMN IF NOT EXISTS hbl_approval_role INTEGER,
    ADD COLUMN IF NOT EXISTS cargo_finance_booking boolean,
    ADD COLUMN IF NOT EXISTS unico_bl_object boolean,
    ADD COLUMN IF NOT EXISTS hbl_lock_settings_id bigint,
    ADD COLUMN IF NOT EXISTS customised_sequence boolean,
    ADD COLUMN IF NOT EXISTS hawb_lock_settings_id bigint,
    ADD COLUMN IF NOT EXISTS mawb_lock_settings_id bigint;