CREATE TABLE IF NOT EXISTS customer_booking (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by varchar,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    is_deleted BOOLEAN DEFAULT FALSE,
    updated_at timestamp  NOT NULL,
    updated_by varchar,
    tenant_id INT,
    source VARCHAR(255),
    contract_status VARCHAR(255),
    booking_status VARCHAR(50),
    customer_id BIGINT,
    is_customer_free_text BOOLEAN DEFAULT FALSE,
    consignor_id BIGINT,
    is_consignor_free_text BOOLEAN DEFAULT FALSE,
    consignee_id BIGINT,
    is_consignee_free_text BOOLEAN DEFAULT FALSE,
    notify_party_id BIGINT,
    is_notify_party_free_text BOOLEAN DEFAULT FALSE,
    customer_email VARCHAR(255),
    booking_number VARCHAR(255),
    booking_date TIMESTAMP,
    inco_terms VARCHAR(255),
    carrier_detail_id BIGINT,
    transport_type VARCHAR(255),
    cargo_type VARCHAR(255),
    direction VARCHAR(255),
    quantity INT,
    quantity_unit VARCHAR(255),
    gross_weight DECIMAL,
    gross_weight_unit VARCHAR(255),
    volume DECIMAL,
    volume_unit VARCHAR(255),
    weight_volume DECIMAL,
    weight_volume_unit VARCHAR(255),
    chargeable DECIMAL,
    chargeable_unit VARCHAR(255),
    contract_id UUID,
    FOREIGN KEY (customer_id) REFERENCES parties(id),
    FOREIGN KEY (consignor_id) REFERENCES parties(id),
    FOREIGN KEY (consignee_id) REFERENCES parties(id),
    FOREIGN KEY (notify_party_id) REFERENCES parties(id),
    FOREIGN KEY (carrier_detail_id) REFERENCES carrier_details(id)
);

CREATE TABLE IF NOT EXISTS booking_charges (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at timestamp  NOT NULL,
    created_by varchar,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    booking_id bigint,
    is_deleted BOOLEAN DEFAULT FALSE,
    updated_at timestamp  NOT NULL,
    updated_by varchar,
    tenant_id int,
    seq_no VARCHAR(50),
    charges_type VARCHAR(50),
    details VARCHAR(50),
    charges_code_alt VARCHAR(50),
    hsn_master VARCHAR(50),
    measurement_basis VARCHAR(50),
    measurement_container_type VARCHAR(50),
    total_unit_count DECIMAL,
    measurement_unit VARCHAR(50),
    cost_currency_exchange_update VARCHAR(50),
    reciprocal_currency_cost BOOLEAN DEFAULT FALSE,
    estimated_cost DECIMAL,
    local_cost_amount DECIMAL,
    overseas_cost_amount DECIMAL,
    overseas_cost_currency VARCHAR(50),
    local_cost_currency DECIMAL,
    current_cost_rate DECIMAL,
    cost_rate_currency VARCHAR(50),
    cost_exchange DECIMAL,
    cost_account VARCHAR(50),
    cost_comments VARCHAR(50),
    creditor_id BIGINT,
    cost_tax_id VARCHAR(50),
    cost_tax_date TIMESTAMP,
    cost_local_tax DECIMAL,
    cost_tax_percentage DECIMAL,
    cost_overseas_tax DECIMAL,
    cost_no_gst BOOLEAN DEFAULT FALSE,
    cost_tax_type1 DECIMAL,
    cost_tax_type2 DECIMAL,
    cost_tax_type3 DECIMAL,
    cost_tax_type4 DECIMAL,
    cost_line_total DECIMAL,
    sell_currency_exchange_update VARCHAR(50),
    reciprocal_currency_revenue BOOLEAN DEFAULT FALSE,
    estimated_revenue DECIMAL,
    local_sell_amount DECIMAL,
    overseas_sell_amount DECIMAL,
    overseas_sell_currency VARCHAR(50),
    local_sell_currency DECIMAL,
    current_sell_rate DECIMAL,
    sell_rate_currency VARCHAR(50),
    sell_exchange DECIMAL,
    revenue_account VARCHAR(50),
    revenue_comments VARCHAR(50),
    debtor_id BIGINT,
    revenue_tax_id VARCHAR(50),
    revenue_tax_date TIMESTAMP,
    local_tax DECIMAL,
    tax_percentage DECIMAL,
    overseas_tax DECIMAL,
    no_gst BOOLEAN DEFAULT FALSE,
    tax_type_1 DECIMAL,
    tax_type_2 DECIMAL,
    tax_type_3 DECIMAL,
    tax_type_4 DECIMAL,
    revenue_line_total DECIMAL,
    FOREIGN KEY (creditor_id) REFERENCES parties(id),
    FOREIGN KEY (debtor_id) REFERENCES parties(id),
    FOREIGN KEY (booking_id) REFERENCES customer_booking(id)
);
