CREATE TABLE IF NOT EXISTS mawb_stocks (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    consolidation_id BIGINT NULL,
    mawb_number varchar NULL,
    next_mawb_number varchar NULL,
    available_count varchar NULL,
    status varchar NULL,
    home_port varchar NULL,
    air_line_prefix varchar  NULL,
    prefix varchar NULL,
    seq_number varchar NULL,
    count varchar NULL,
    start_number BIGINT NULL,
    mawb_stocks_from varchar NULL,
    mawb_stocks_to varchar NULL,
    borrowed_from BIGINT NULL,
    borrowed_from_full_name varchar NULL,
    tenant_id integer,
    created_at timestamp  NOT NULL,
    created_by  varchar (50),
    updated_at timestamp  NOT NULL,
    updated_by  varchar (50),
    is_deleted BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS mawb_stocks_link (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    guid uuid NOT NULL DEFAULT uuid_generate_v4(),
    parent_id BIGINT NOT NULL,
    FOREIGN KEY (parent_id) REFERENCES mawb_stocks(id),
    mawb_number varchar NULL,
    status varchar NULL,
    seq_number varchar NULL,
    entity_type varchar NULL,
    entity_id BIGINT NULL,
    ship_cons_number varchar NOT NULL,
    tenant_id integer,
    created_at timestamp  NOT NULL,
    created_by  varchar (50),
    updated_at timestamp  NOT NULL,
    updated_by  varchar (50),
    is_deleted BOOLEAN DEFAULT FALSE
);